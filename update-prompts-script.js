#!/usr/bin/env node

/**
 * Script to update all analysis prompts with new guidelines
 * Run with: node update-prompts-script.js
 */

const salesGuidelines = `═══════════════════════════════════════════════════════════════════
📌 הנחיות מיוחדות לניתוח "הנעה לפעולה וסגירה"
═══════════════════════════════════════════════════════════════════

בשיחות מכירה, עליך לזהות ולנתח שימוש בטקטיקות הנעה לפעולה וסגירה:

**טקטיקות עיקריות לזיהוי:**

1️⃣ **יצירת תחושת דחיפות:**
   - "המבצע מסתיים בעוד יומיים"
   - "נותרו רק 5 יחידות במחיר הזה"
   - "השירות מתמלא – ניתן להצטרף רק השבוע"

2️⃣ **פנייה ישירה/קריאה לפעולה:**
   - "האם תרצה שנשריין לך פגישה השבוע?"
   - "אפשר להקליט אותך להרשמה עכשיו?"
   - "נשלח לך הצעת מחיר, בסדר?"

3️⃣ **הדגשת ערך מיידי:**
   - "מצטרפים עכשיו ומקבלים חודש ניסיון במתנה"
   - "הנחה בלעדית למצטרפים היום"

4️⃣ **מתן בחירה מיידית:**
   - "מה מעדיף – פגישה פרונטלית או בזום?"
   - "להתחיל עכשיו או בשבוע הבא?"

5️⃣ **בניית ציפייה להמשך:**
   - "מתי יהיה לך נוח להיפגש?"
   - "מה השלב הבא מתאים לך?"

6️⃣ **הוכחות חברתיות:**
   - "רוב הלקוחות שבחרו להצטרף מיד היו מרוצים"

7️⃣ **Micro-Commitment (כן קטן):**
   - "זה נשמע לך רלוונטי עד כה?"
   - "אם תנאי התשלום יסתדרו, תשקול את זה?"

8️⃣ **התאמה אישית:**
   - "זה בדיוק מה שתיארת"
   - "במצבך, זה מסלול בלעדי"

**בניתוח:**
- **בתובנות**: ציין אילו טקטיקות הנציג השתמש, עד כמה היו משכנעות
- **באיך_משפרים**: תן דוגמה ספציפית למשפט מנצח מהרשימה למעלה

═══════════════════════════════════════════════════════════════════
📌 הנחיות מיוחדות לניתוח "טיפול בהתנגדויות"
═══════════════════════════════════════════════════════════════════

**תהליך ניתוח בשלבים:**

**שלב 1: זיהוי סוג ההתנגדות**
זהה איזו התנגדות/התלבטות הועלתה:

🔹 **התנגדות הערך** – "מה יוצא לי מזה"
🔹 **התנגדות למוצר** – חשש שלא יפתור
🔹 **חוסר צורך** – לא רואה איך זה משתלב
🔹 **התנגדות דחיפות** – "למה עכשיו?"
🔹 **התנגדות מתחרה** – לא רואה יתרון
🔹 **התנגדות לחברה** – מוניטין
🔹 **התנגדות מחיר** – יקר מדי, אין תקציב
🔹 **התנגדות כימיה** – חוסר אמון במוכר

**ביטויים נפוצים:**
- "אני צריך לחשוב על זה / להתייעץ"
- "יקר לי כרגע / אין תקציב"
- "אין לי זמן עכשיו"
- "לא בטוח שזה בשבילי"

**שלב 2: זיהוי הטקטיקה שהנציג השתמש**

1️⃣ **FFF (Feel/Felt/Found):**
   "אני מבין איך אתה מרגיש, גם לקוחות אחרים הרגישו כך, אבל הם גילו ש..."

2️⃣ **הזמה/בומרנג:**
   "מה בדיוק גורם לך להרגיש כך?"

3️⃣ **חצי נלסון:**
   "אם אשיג לך את מה שבקשת, סגרנו עסקה?"

4️⃣ **סיפור אזהרה:**
   "אני מכיר מקרה שבו לקוח שהתעכב הפסיד..."

5️⃣ **מאזן (יתרון/חיסרון):**
   "אם נשווה את היתרונות מול החסרונות..."

6️⃣ **אלימינציה:**
   "זה לא נכון שאתה לא רוצה לחסוך, נכון?"

7️⃣ **זאת בדיוק הסיבה ש...:**
   הופכים חיסרון לנימוק בעד

8️⃣ **כולם למען אחד:**
   "כל כך הרבה לקוחות העלו את זה"

9️⃣ **הנקודה:**
   "זו בדיוק הנקודה שבגללה יצרנו קשר"

🔟 **ישירה/קולמבו:**
   "מה מונע ממך להצטרף עכשיו?"

1️⃣1️⃣ **המשאלה האחרונה:**
   "אם הייתי נותן לך משאלה אחת..."

**מודל ת.ש.ב לבדיקה:**
✅ **ת - תשאול**: האם שאל שאלות לזהות ההתנגדות?
✅ **ש - שיקוף**: האם חזר במילים של הלקוח?
✅ **ב - בידוד**: האם שאל "זו הסיבה היחידה?"

**ביטויי קסם לזיהוי:**
- "מהי כוונתך? למה אתה מתכוון?"
- "מה זאת אומרת? ביחס למה?"
- "בוא תהיה יותר ספציפי"
- "בוא נחשוב ביחד"
- "מה ההתלבטות שלך?"

**שלב 3: טיפול בהתנגדות מחיר - הנחיות מיוחדות**

אם זוהתה התנגדות מחיר, בדוק את השלבים:

1. **הקשבה ואמפתיה**: "אני מבין שחשוב לך להרגיש בטוח עם ההוצאה"
2. **בירור סיבה**: "מה גורם לך לחוש שיקר? האם אתה משווה?"
3. **הדגשת ערך**: "חשוב לי להראות מה תקבל - מוצר איכותי, שירות, אחריות"
4. **פירוק מחיר**: "כשמחשבים עלות יומית, זה פחות משקל ליום"
5. **שקיפות**: "הבדל במחיר נובע מאיכות - אשמח להסביר"
6. **חלופות**: "יש אפשרות לפרוס את התשלום?"
7. **הימנעות מהנחה מהירה**
8. **סיום חיובי**: "קח זמן לחשוב, אני כאן לעזור"

**בניתוח:**

**בעמודת "תובנות":**
- ציין איזו התנגדות הועלתה בדיוק
- זהה איזו טקטיקה הנציג השתמש (אם בכלל)
- הערך עד כמה הטיפול היה יעיל
- דוגמה: "הלקוח העלה התנגדות מחיר. הנציג השתמש בטקטיקת FFF אך לא המשיך לחצי נלסון"

**בעמודת "איך_משפרים":**
- ציין איזו טקטיקה הייתה מתאימה ביותר
- תן דוגמה מדויקת למה הנציג היה צריך לומר
- דוגמה: "היה נכון להשתמש בחצי נלסון: 'אני מבין את החשש. אם אוכל להראות לך איך ההשקעה מחזירה את עצמה תוך 3 חודשים, האם נוכל להתקדם?'"

**עקרונות לניתוח:**
1. תמיד זהה תחילה את סוג ההתנגדות המדויק
2. אבחן איזו טקטיקה הנציג השתמש
3. המלץ על הטקטיקה המתאימה + דוגמה
4. תן משוב קונקרטי ומעשי שיעזור להשתפר

═══════════════════════════════════════════════════════════════════

`;

const serviceGuidelines = `═══════════════════════════════════════════════════════════════════
📌 הנחיות מיוחדות לניתוח "הנעה לפעולה וסגירה" - שירות
═══════════════════════════════════════════════════════════════════

בשיחות שירות לקוחות, עליך לזהות ולנתח שימוש בטקטיקות הנעה לפעולה:

**טקטיקות עיקריות לזיהוי בשירות:**

1️⃣ **יצירת תחושת דחיפות:**
   - "המוקד נפתח לשירות מורחב היום"
   - "האפשרות לפתור במהירות זמינה רק היום"
   - "לקוח שמתקשר עכשיו מקבל סיוע ישיר"

2️⃣ **פנייה ישירה לפעולה:**
   - "תרצה שנקבע תור לתיקון כבר השבוע?"
   - "אני יכול לפתוח קריאה עכשיו או לשלוח מדריך?"
   - "אפשר לקבוע מועד לטכנאי?"

3️⃣ **הדגשת ערך/תועלת מיידית:**
   - "הפנייה שלך מעניקה לך סיוע אישי ומהיר"
   - "לקוחות הפונים עכשיו נהנים מהקדמת טיפול"
   - "על פתיחת קריאה מציעים הטבה בשירות"

4️⃣ **מתן בחירה מיידית:**
   - "רוצה פתרון עכשיו בטלפון או הגעת טכנאי?"
   - "נוכל לתאם תור או טיפול מיידי מרחוק?"
   - "התיקון היום או מחר?"

5️⃣ **בניית ציפייה ותכנון:**
   - "מעוניין שנקבע מועד לבדיקת המשך?"
   - "מה השלב הבא שאתה מצפה?"

6️⃣ **הוכחות חברתיות בשירות:**
   - "רוב הלקוחות מדווחים על פתרון יעיל"
   - "פונים כמוך מקבלים פתרון במהירות"

7️⃣ **Micro-Commitment:**
   - "האם זה נראה לך פתרון מתאים?"
   - "אם נציע תיקון מיידי, זה יספק אותך?"

8️⃣ **התאמה אישית:**
   - "הפתרון מותאם בדיוק לצורך שלך"
   - "יש שירות מיוחד ללקוחות כמוך"

**בניתוח:**
- **בתובנות**: ציין אילו טקטיקות הנציג השתמש בשירות
- **באיך_משפרים**: תן דוגמה ספציפית למשפט מנצח מהרשימה

═══════════════════════════════════════════════════════════════════

`;

// This script writes the guidelines to demonstrate the structure
// Actual database updates should be done via API calls
console.log('📋 Guidelines prepared for prompt updates');
console.log('✅ Sales guidelines length:', salesGuidelines.length);
console.log('✅ Service guidelines length:', serviceGuidelines.length);
console.log('\n💡 These guidelines should be inserted before the JSON structure in each prompt.');
console.log('\n📌 Call types to update:');
console.log('   - תאום פגישה (sales)');
console.log('   - פולו אפ מכירה טלפונית –לאחר מתן הצעה (sales)');
console.log('   - פולו אפ מכירה טלפונית – לאחר שיחה ראשונית לפני מתן הצעה (sales)');
console.log('   - פולו אפ תאום פגישה (sales)');
console.log('   - שירות לקוחות מגיב (service)');
console.log('\n🚀 Ready to update via API!');

